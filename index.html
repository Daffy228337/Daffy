<!DOCTYPE html>
<html lang="ru">
<head>
    <title>Автоматическая доставка в Волгограде</title>
    <script src="https://api-maps.yandex.ru/2.1/?lang=ru_RU&apikey=0f2d1024-aa27-4ceb-b1cc-284236a7812d" type="text/javascript"></script>
    <style>
        /* CSS стили опущены для краткости */
    </style>
</head>
<body>
    <div id="map" style="width: 100%; height: 80vh;"></div>
    <div id="controls" style="position: absolute; top: 10px; right: 10px;">
        <button id="addCourier">Прибавить курьера</button>
        <button id="removeCourier">Убрать курьера</button>
        <button id="createOrder">Создать заказ</button>
        <button id="assignOrders">Назначить заказы</button>
    </div>
    <div id="ordersLog" style="position: absolute; bottom: 10px; left: 10px; right: 10px;"></div>
    <div id="couriersLog" style="position: absolute; top: 10px; left: 10px; right: 10px;"></div>

    <script>
        ymaps.ready(init);

        var map, sectors = [], couriers = [], orders = [], courierCount = 1;
        var restaurantCoords = [48.707103, 44.516939]; // Координаты ресторана

        function init() {
            map = new ymaps.Map("map", {
                center: restaurantCoords,
                zoom: 12
            });

            sectors = createSectors(map, restaurantCoords); // Создание и отображение секторов
            setupControls();
            updateCouriers();
            placeRestaurantMarker();
        }

        function createSectors(map, center) {
            // Логика создания и отображения секторов на карте
            var sectorsGeoObjects = [];
            // Реализуйте логику создания и добавления секторов на карту с цветами
            return sectorsGeoObjects;
        }

        function setupControls() {
            // Подключение кнопок
            document.getElementById('addCourier').addEventListener('click', addCourier);
            document.getElementById('removeCourier').addEventListener('click', removeCourier);
            document.getElementById('createOrder').addEventListener('click', createOrder);
            document.getElementById('assignOrders').addEventListener('click', assignOrders);
        }

        function addCourier() { /* ... */ }
        function removeCourier() { /* ... */ }
        function updateCouriers() { /* ... */ }

        function placeRestaurantMarker() {
            // Метка ресторана
            var restaurantPlacemark = new ymaps.Placemark(restaurantCoords, {
                hintContent: 'Ресторан',
                balloonContent: 'Рабоче-Крестьянская ул., 9 Б'
            }, {
                preset: 'islands#redDotIcon'
            });
            map.geoObjects.add(restaurantPlacemark);
        }

        function createOrder() {
            var randomSector = sectors[Math.floor(Math.random() * sectors.length)];
            var order = {
                id: Date.now(), // уникальный ID заказа
                sector: randomSector,
                status: 'Новый',
                coords: getCoordsInSector(randomSector)
            };
            orders.push(order);
            updateOrdersLog();
            addOrderToMap(order);
        }

        function addOrderToMap(order) {
            // Добавление маркера заказа на карту
            var orderPlacemark = new ymaps.Placemark(order.coords, {
                hintContent: 'Заказ #' + order.id,
                balloonContent: 'Статус: ' + order.status
            }, {
                preset: 'islands#greenDotIcon'
            });
            map.geoObjects.add(orderPlacemark);
        }

        function updateOrdersLog() { /* ... */ }
        function updateCouriersLog() {
            var couriersLog = document.getElementById('couriersLog');
            couriersLog.innerHTML = '<h3>Лог курьеров</h3>';
            couriers.forEach((_, index) => {
                var p = document.createElement('p');
                p.textContent = 'Курьер №' + (index + 1);
                couriersLog.appendChild(p);
            });
        }

        function assignOrders() { /* ... */ }
        function findBestCourierForOrder(order) { /* ... */ }
    </script>
</body>
</html>