import requests
import json

API_KEY = '0f2d1024-aa27-4ceb-b1cc-284236a7812d'

def get_distance(coord1, coord2):
    url = f'https://geocode-maps.yandex.ru/1.x/?geocode={coord1}&geocode={coord2}&format=json&apikey={API_KEY}'
    response = requests.get(url)
    data = json.loads(response.text)
    points = data['response']['GeoObjectCollection']['featureMember']
    distance = points[1]['GeoObject']['Point']['pos'].split(' ')
    return float(distance[0])

def assign_orders_to_couriers(orders, couriers):
    assignments = {}
    for order in orders:
        min_time = float('inf')
        assigned_courier = None
        for courier in couriers:
            delivery_time = get_distance(order['pickup'], courier['location']) + get_distance(courier['location'], order['delivery'])
            if delivery_time < min_time:
                min_time = delivery_time
                assigned_courier = courier['id']
        assignments[order['id']] = assigned_courier
    return assignments

# Пример использования
orders = [
    {'id': 1, 'pickup': '55.7522200,37.6155600', 'delivery': '55.7512440,37.6184230'},
    {'id': 2, 'pickup': '55.7512440,37.6184230', 'delivery': '55.7533630,37.6209100'}
]

couriers = [
    {'id': 1, 'location': '55.7533630,37.6209100'},
    {'id': 2, 'location': '55.7512440,37.6184230'}
]

assignments = assign_orders_to_couriers(orders, couriers)
print(assignments)