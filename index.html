<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Delivery Simulation</title>
    <script src="https://api-maps.yandex.ru/2.1/?apikey=0f2d1024-aa27-4ceb-b1cc-284236a7812d&lang=ru_RU" type="text/javascript"></script>
</head>
<body>
    <div id="map" style="width: 100%; height: 400px;"></div>
    <button id="addCourierBtn">Добавить курьера</button>
    <button id="removeCourierBtn">Убрать курьера</button>
    <button id="createOrderBtn">Создать заказ</button>
    <button id="assignOrderBtn">Назначить заказ</button>
    <div id="orderLog"></div>
    <div id="courierOrdersLog"></div>

    <script>
        ymaps.ready(init);

        let map;
        let orders = [];
        let couriers = [];

        function init() {
            map = new ymaps.Map("map", {
                center: [48.7093, 44.5174],
                zoom: 12
            });

            document.getElementById("addCourierBtn").addEventListener("click", addCourier);
            document.getElementById("removeCourierBtn").addEventListener("click", removeCourier);
            document.getElementById("createOrderBtn").addEventListener("click", createOrder);
            document.getElementById("assignOrderBtn").addEventListener("click", assignOrder);
        }

        function addCourier() {
            let courierNumber = couriers.length + 1;
            couriers.push({ number: courierNumber, orders: [] });
            document.getElementById("courierOrdersLog").innerText += `Курьер номер ${courierNumber}\n`;
        }

        function removeCourier() {
            if (couriers.length > 0) {
                let removedCourier = couriers.pop();
                document.getElementById("courierOrdersLog").innerText += `Курьер номер ${removedCourier.number} удален\n`;
            }
        }

        function createOrder() {
            let sector = Math.floor(Math.random() * 4) + 1;
            let time = new Date().toLocaleTimeString('ru-RU', { timeZone: 'Europe/Moscow' });
            orders.push({ sector: sector, time: time });
            document.getElementById("orderLog").innerText += `Заказ Сектор ${sector}. ${time}\n`;
        }

        function assignOrder() {
            let newOrder = orders.pop();
            let assignedCourier = assignCourier(newOrder);
            assignedCourier.orders.push(newOrder.sector);
            document.getElementById("courierOrdersLog").innerText += `Курьер номер ${assignedCourier.number}. Заказ ${newOrder.sector}\n`;
        }

        function assignCourier(order) {
            // Логика назначения заказа на курьера в соответствии с вашим техническим заданием
            // В этой функции вы можете реализовать алгоритм назначения курьера на заказ
            // и вернуть объект курьера, на которого был назначен заказ
            return couriers[0]; // Пример: всегда назначаем первого курьера
        }
    </script>
</body>
</html>